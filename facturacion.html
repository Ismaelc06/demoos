<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tigo Business - Pago por Transferencia</title>

    <link rel="stylesheet" href="style2.css">
</head>
<body>
<div style="background: #e9ecef; padding: 10px 40px; border-bottom: 1px solid #ddd;">
    <a href="index.html" style="text-decoration: none; color: #00377B; font-weight: 600; font-size: 14px;">
        &larr; Volver al Men√∫ Principal
    </a>
</div>
    <header>
        <div class="logo">tigo business</div>
        <div></div>
    </header>

    <div class="container">

        <section id="view-selection" class="view-section active">
            
            <div class="summary-bar">
                <div class="summary-info">
                    <div class="summary-item">
                        <label>Facturas Seleccionadas</label>
                        <span id="count-display">0</span>
                    </div>
                    <div class="summary-item">
                        <label>Valor Total a Pagar</label>
                        <span id="total-display">Bs 0,00</span>
                    </div>
                </div>
                <div>
                    <button id="btn-generate" class="btn btn-primary" disabled onclick="generatePaymentId()">GENERAR ID PARA EL PAGO</button>
                </div>
            </div>

            <div class="filters-container">
                <div class="filter-group">
                    <label>Tipo de Servicio</label>
                    <select><option>Todos</option><option>M√≥vil</option><option>Internet/TV</option></select>
                </div>
                <div class="filter-group">
                    <label>Contratos</label>
                    <select><option>Todos los contratos</option></select>
                </div>
                <div class="filter-group">
                    <label>Periodo</label>
                    <select><option>Todas</option><option>Nov 2025</option><option>Oct 2025</option></select>
                </div>
                <div class="filter-group">
                    <label>Estado de Factura</label>
                    <select><option>Pendiente</option></select>
                </div>
                <button class="btn btn-primary" style="padding: 8px 20px;">APLICAR</button>
            </div>

            <table class="invoice-table">
                <thead>
                    <tr>
                        <th style="width: 40px;"><input type="checkbox" disabled></th>
                        <th style="width: 50px;"></th> <th>Valor</th>
                        <th>Contrato</th>
                        <th>Nro. Comprobante</th>
                        <th>Periodo</th>
                        <th>Estado</th>
                        <th>Acci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="group-header">
                        <td colspan="8">CONTRATO: 7529137 (Servicios M√≥viles)</td>
                    </tr>
                    
                    <tr>
                        <td><input type="checkbox" class="invoice-chk" data-amount="23037.00" onchange="updateTotals()"></td>
                        <td><div class="service-icon icon-mobile">üì±</div></td>
                        <td><strong>Bs 23.037,00</strong></td>
                        <td>7529137</td>
                        <td>4769359</td>
                        <td>Nov 2025</td>
                        <td><span class="status-pending">PENDIENTE DE PAGO</span></td>
                        <td><a href="#" style="color:var(--tigo-blue); text-decoration:none; font-weight:bold; font-size:12px;">DETALLES</a></td>
                    </tr>

                    <tr class="row-disabled">
                        <td><input type="checkbox" disabled></td>
                        <td><div class="service-icon icon-mobile">üì±</div></td>
                        <td>Bs 22.905,80</td>
                        <td>7529137</td>
                        <td>4672689</td>
                        <td>Oct 2025</td>
                        <td><span class="status-paid">PAGADO</span></td>
                        <td><a href="#" style="color:var(--tigo-blue); text-decoration:none; font-weight:bold; font-size:12px;">DETALLES</a></td>
                    </tr>

                    <tr class="group-header">
                        <td colspan="8">EL 7MO ANILLO Y DOBLE VIA LA GUARDIA - 1385851</td>
                    </tr>

                    <tr>
                        <td><input type="checkbox" class="invoice-chk" data-amount="265.00" onchange="updateTotals()"></td>
                        <td><div class="service-icon icon-wifi">üì∂</div></td>
                        <td><strong>Bs 265,00</strong></td>
                        <td>1385851</td>
                        <td>76837919</td>
                        <td>Feb 2026</td>
                        <td><span class="status-pending">PENDIENTE DE PAGO</span></td>
                        <td><a href="#" style="color:var(--tigo-blue); text-decoration:none; font-weight:bold; font-size:12px;">DETALLES</a></td>
                    </tr>

                     <tr>
                        <td><input type="checkbox" class="invoice-chk" data-amount="265.00" onchange="updateTotals()"></td>
                        <td><div class="service-icon icon-wifi">üì∂</div></td>
                        <td><strong>Bs 265,00</strong></td>
                        <td>1385851</td>
                        <td>75915485</td>
                        <td>Ene 2026</td>
                        <td><span class="status-pending">PENDIENTE DE PAGO</span></td>
                        <td><a href="#" style="color:var(--tigo-blue); text-decoration:none; font-weight:bold; font-size:12px;">DETALLES</a></td>
                    </tr>

                </tbody>
            </table>

            <p style="font-size: 12px; color: #666; margin-top: 20px;">
                * Se generar√° un ID √∫nico para el pago de las cuentas seleccionadas. Este tiene una vigencia de 72hr.
            </p>

        </section>

        <section id="view-result" class="view-section">
            <div style="margin-bottom: 20px;">
                <button class="btn btn-outline" onclick="location.reload()">&larr; Volver a facturas</button>
            </div>

            <div class="result-box">
                <div style="font-size: 50px; color: var(--success); margin-bottom: 10px;">‚úÖ</div>
                <h3 style="color: var(--tigo-blue); margin-top: 0;">¬°ID Generado Exitosamente!</h3>
                <p>Utilice la siguiente informaci√≥n para realizar su transferencia bancaria.</p>

                <div class="id-display">
                    <small style="text-transform: uppercase; color: #666; display: block; margin-bottom: 5px;">ID de Pago (Glosa)</small>
                    <h2 id="final-id">12345678912</h2>
                </div>

                <div style="display: flex; justify-content: space-between; padding: 10px 50px;">
                    <div>
                        <small style="color: #666;">Monto Total</small>
                        <div style="font-size: 24px; font-weight: bold; color: var(--tigo-dark);" id="final-amount">Bs 0,00</div>
                    </div>
                    <div>
                        <small style="color: #666;">Vigencia</small>
                        <div style="font-size: 20px; font-weight: bold; color: var(--danger);">72 Horas</div>
                    </div>
                </div>

                <div class="bank-list">
                    <strong>üè¶ Instrucciones para Transferencia:</strong>
                    <p>Realice la transferencia a cualquiera de las siguientes cuentas y aseg√∫rese de colocar el <strong>ID de Pago</strong> en la glosa/referencia.</p>
                    <ul style="margin: 0; padding-left: 20px;">
                        <li><strong>Banco Nacional (BNB):</strong> 1000-2548-7788</li>
                        <li><strong>Banco Mercantil Santa Cruz:</strong> 4010-5588-9966</li>
                        <li><strong>Banco Bisa:</strong> 2000-1122-3344</li>
                    </ul>
                </div>

                <div style="margin-top: 30px;">
                    
                    <button class="btn btn-outline" style="margin-left: 10px;">Descargar Instrucciones (PDF)</button>
                </div>
            </div>
        </section>

        <div id="loader" style="display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.9); justify-content:center; align-items:center; flex-direction:column; z-index: 999;">
            <div style="border: 4px solid #f3f3f3; border-top: 4px solid var(--tigo-blue); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite;"></div>
            <h3 style="color: var(--tigo-blue); margin-top: 20px;">Conectando con S√≠ntesis...</h3>
            <p>Generando orden de recaudaci√≥n.</p>
        </div>

        <style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style>

    </div>

    <script>
        function updateTotals() {
            const checkboxes = document.querySelectorAll('.invoice-chk:checked');
            let total = 0;
            let count = checkboxes.length;

            checkboxes.forEach(chk => {
                total += parseFloat(chk.getAttribute('data-amount'));
            });

            // Actualizar UI
            document.getElementById('count-display').innerText = count;
            document.getElementById('total-display').innerText = 'Bs ' + total.toLocaleString('es-BO', { minimumFractionDigits: 2 });
            
            // Habilitar bot√≥n si hay selecci√≥n
            document.getElementById('btn-generate').disabled = (count === 0);
        }

        function generatePaymentId() {
            // Mostrar Loader
            document.getElementById('loader').style.display = 'flex';

            // Simular API Call (2 segundos)
            setTimeout(() => {
                const totalText = document.getElementById('total-display').innerText;
                
                // Actualizar datos de la vista final
                document.getElementById('final-amount').innerText = totalText;
                // Generar ID random simulado
                document.getElementById('final-id').innerText = Math.floor(10000000000 + Math.random() * 90000000000);

                // Cambiar vista
                document.getElementById('loader').style.display = 'none';
                document.getElementById('view-selection').classList.remove('active');
                document.getElementById('view-result').classList.add('active');
            }, 2000);
        }
    </script>

</body>
</html>